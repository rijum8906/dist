import{r as v,j as e,L as m}from"./index-D8XRboE_.js";import{B as o,L as s,T as j,S as t,a as g,b as y}from"./url-CMfFpYZi.js";const k=()=>{const l=localStorage.getItem("token");let d=!1;l&&(d=JSON.parse(atob(l.split(".")[1])).isAdmin);const[i,c]=v.useState({name:"",house:"Udaigiri",category:"Under 14 Boys",event:"100m",rank:"1"}),u=["100m","200m","400m","800m","1500m","3000m","Javelin","Shotput","Discus","High Jump","Long Jump","Triple Jump"],n=r=>{const{name:a,value:p}=r.target;c(x=>({...x,[a]:p}))},h=async r=>{r.preventDefault();try{const a=await g.post(y,i,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});alert("Participant added successfully!"),c({name:"",house:"Udaigiri",category:"Under 14 Boys",event:"100m",rank:"1"})}catch(a){console.error("Error adding participant:",a),alert("Failed to add participant.")}};return e.jsxs("form",{onSubmit:h,className:"max-w-lg mx-auto p-6 bg-white rounded-lg shadow-md",children:[e.jsxs("div",{className:"mb-6 flex justify-between",children:[e.jsx(m,{to:"/",children:e.jsx(o,{color:"info",children:"See Participants"})}),d&&e.jsx(m,{to:"/admin",children:e.jsx(o,{color:"purple",children:"Admin Panel"})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(s,{htmlFor:"name",value:"Name"}),e.jsx(j,{id:"name",name:"name",value:i.name,onChange:n,placeholder:"Enter participant's name",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(s,{htmlFor:"house",value:"House"}),e.jsxs(t,{id:"house",name:"house",value:i.house,onChange:n,required:!0,children:[e.jsx("option",{value:"Udaigiri",children:"Udaigiri"}),e.jsx("option",{value:"Nilgiri",children:"Nilgiri"}),e.jsx("option",{value:"Shiwalik",children:"Shiwalik"}),e.jsx("option",{value:"Arawalli",children:"Arawalli"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(s,{htmlFor:"category",value:"Category"}),e.jsxs(t,{id:"category",name:"category",value:i.category,onChange:n,required:!0,children:[e.jsx("option",{value:"Under 14 Boys",children:"Under 14 Boys"}),e.jsx("option",{value:"Under 17 Boys",children:"Under 17 Boys"}),e.jsx("option",{value:"Under 19 Boys",children:"Under 19 Boys"}),e.jsx("option",{value:"Junior Girls",children:"Junior Girls"}),e.jsx("option",{value:"Senior Girls",children:"Senior Girls"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(s,{htmlFor:"event",value:"Event"}),e.jsx(t,{id:"event",name:"event",value:i.event,onChange:n,required:!0,children:u.map((r,a)=>e.jsx("option",{value:r,children:r},a))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(s,{htmlFor:"rank",value:"Rank"}),e.jsx(t,{id:"rank",name:"rank",value:i.rank,onChange:n,required:!0,children:[...Array(8)].map((r,a)=>e.jsx("option",{value:a+1,children:a+1},a))})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(o,{type:"submit",color:"success",size:"lg",children:"Add Participant"})})]})};export{k as default};
