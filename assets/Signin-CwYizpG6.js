import{j as e,u as b,r as d}from"./index-D8XRboE_.js";import{m as x,d as S,t as p,T as u,B as h,a as f,s as j,f as w}from"./url-CMfFpYZi.js";const y=a=>t=>{const r={};for(const o in t)a.includes(o)||(r[o]=t[o]);return r},g=a=>{const{children:t,className:r,horizontal:o,href:m,theme:l={}}=a,c=typeof m>"u"?"div":"a",i=v(a),n=x(S().card,l);return e.jsxs(c,{"data-testid":"flowbite-card",href:m,className:p(n.root.base,n.root.horizontal[o?"on":"off"],m&&n.root.href,r),...i,children:[e.jsx(N,{...a}),e.jsx("div",{className:n.root.children,children:t})]})},N=({theme:a={},...t})=>{const r=x(S().card,a);return t.renderImage?t.renderImage(r,t.horizontal??!1):t.imgSrc?e.jsx("img",{"data-testid":"flowbite-card-image",alt:t.imgAlt??"",src:t.imgSrc,className:p(r.img.base,r.img.horizontal[t.horizontal?"on":"off"])}):null},v=y(["renderImage","imgSrc","imgAlt","children","className","horizontal","href","theme"]),T=()=>{const a=b(),t=d.useRef(""),r=d.useRef(""),o=d.useRef(""),m=async c=>{var i,n;c.preventDefault();try{const s=await f(j,{method:"POST",data:{appSecret:t.current.value},headers:{"Content-Type":"application/json"}});localStorage.setItem("token",s.data.data.token),a("/")}catch(s){console.error(s),alert(((n=(i=s.response)==null?void 0:i.data)==null?void 0:n.message)||s.message||"Something went wrong")}},l=async c=>{var i,n;c.preventDefault();try{const s=await f(w,{method:"POST",data:{username:o.current.value,password:r.current.value},headers:{"Content-Type":"application/json"}});localStorage.setItem("token",s.data.data.token),a("/admin")}catch(s){console.error(s),alert(((n=(i=s.response)==null?void 0:i.data)==null?void 0:n.message)||s.message||"Something went wrong")}};return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-4",children:[e.jsxs(g,{className:"w-full max-w-md mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-center mb-4",children:"Sign in"}),e.jsxs("form",{onSubmit:m,children:[e.jsx(u,{type:"text",ref:t,required:!0,placeholder:"Enter the App Secret",className:"mb-4"}),e.jsx(h,{type:"submit",gradientMonochrome:"info",fullSized:!0,children:"Submit"})]})]}),e.jsxs(g,{className:"w-full max-w-md",children:[e.jsx("h2",{className:"text-xl font-semibold text-center mb-4",children:"Admin Sign in"}),e.jsxs("form",{onSubmit:l,children:[e.jsx(u,{type:"text",ref:o,required:!0,placeholder:"Enter Admin Username",className:"mb-4"}),e.jsx(u,{type:"password",ref:r,required:!0,placeholder:"Enter Admin Password",className:"mb-4"}),e.jsx(h,{type:"submit",gradientMonochrome:"success",fullSized:!0,children:"Submit as Admin"})]})]})]})};export{T as default};
